<app-home>
  <app-navbar [paginaAtual]=PaginaAtual.CRIAR_SALA>
<div class="criar-sala">
<h3>Crie sua sala!</h3>
  <div class="card container-forms">
<div class="formulario">
  <div class="form-group">
<label for="salaNome">Nome da sala</label>
    <input
      id="salaNome"
      type="text"
      class="form-control"
      onlyAlphanumeric
      [(ngModel)]="sala.nome"
      name="nome"
      [maxLength]="15"
      required
    >
    <div style="margin-top:5px; margin-left: 5px; color:var(--text-color); font-size: 12px; display: flex; flex-direction: row; gap:30px;">
      <div>
        {{sala.nome.length}}/15
      </div>
      <div>
        Obs: Apenas letras e números são permitidos.
      </div>
    </div>
  </div>
  <div class="form-group">
<label for="salaCategoria">Categoria</label>
<select id="salaCategoria"
        class="form-select selecionarCategoria"
        [(ngModel)]="sala.categoria"
        (change)="onCategoriaChange()"
        name="categoria"
        required>
  @for (categoria of ["chat","jokenpo","tictactoe","whoistheimpostor"] ; track $index) {
    <option value="{{categoria}}" >
      {{categoriaMap[categoria]}}
    </option>
  }
<!--  <option value="chat" >Chat</option>-->
<!--  <option value="jokenpo">Jo-ken-pô</option>-->
<!--  <option value="tictactoe">Jogo da velha</option>-->
<!--  <option value="whoistheimpostor">Quem é o impostor?</option>-->
</select >
  </div>
  <div class="form-group">

    <label for="salaQtdCapacidade">Capacidade</label>
    <input
      id="salaQtdCapacidade"
      type="number"
      class="form-control"
      style=""
      placeholder="Digite a capacidade"
      name="qtdCapacidade"
      [ngStyle]="soPodeDois() ? {'background-color': 'var(--background-color2)'} : {}"
      [(ngModel)]="sala.qtdCapacidade"
      [readonly]="soPodeDois()"
      [min]="noMinimoTres() ? 3 : 2"
      max="100"
      required
    >
  </div>
<!--  <div class="form-check form-switch">-->
<!--    <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault" [(ngModel)]="publica">-->
<!--   <label class="form-check-label" for="flexSwitchCheckDefault">{{ publica ? 'Pública' : 'Privada' }}</label>-->
<!--  </div>-->
  <div class="form-group">
    <label for="salaSenha">Senha</label>
    <input
      id="salaSenha"
      type="password"
      class="form-control"
      togglePassword
      [(ngModel)]="sala.senha"
      name="senha"
      required
      [ngStyle]="publica ? {'background-color': 'var(--background-color2)'} : {}"
      [readOnly]="publica"
      [value]="publica ? '' : sala.senha"
    >
  </div>

  <div class="acoes">
    @if (!tentandoCriar){
      <button (click)="criarSalaRequest()" class="btn btn-primary">
        Salvar
      </button>
    } @else {
      <button type="submit" class="btn btn-secondary" disabled>
        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
        <span class="sr-only">Carregando</span>
      </button>
    }



    <button (click)="cancelar()" class="btn btn-secondary">Limpar</button>
  </div>
</div>

</div>
</div>
  </app-navbar>
</app-home>
